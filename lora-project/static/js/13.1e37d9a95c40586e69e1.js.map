{"version":3,"sources":["webpack:///src/views/deviceManage/AddDevice.vue","webpack:///./src/views/deviceManage/AddDevice.vue?896d","webpack:///./src/views/deviceManage/AddDevice.vue"],"names":["lat","lng","address","AddDevice","components","ElCard","main","ElRow","row","name","data","deviceName","deviceEui","devDimensionality","devLongitude","devAddress","responseinfo","responseresult","devEuiRule","required","message","trigger","min","max","devForm","mounted","this","getInitmap","methods","addDevice","_this","Object","request","method","url","params","devEUI","devname","latitude","longitude","then","response","info","result","$message","type","error","map","BMap","Map","point","Point","geoc","Geocoder","centerAndZoom","marker","Marker","addOverlay","enableScrollWheelZoom","enableContinuousZoom","addEventListener","e","removeOverlay","getLocation","rs","addComp","addressComponents","province","city","district","street","streetNumber","confirmvalue","deviceManage_AddDevice","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","xs","sm","md","lg","xl","ref","label-position","model","rules","label","prop","placeholder","value","callback","$$v","$set","expression","_v","staticStyle","width","on","click","height","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.1e37d9a95c40586e69e1.js","sourcesContent":["<template>\n    <!--<h1>添加设备。。简简单单一个不那么丑陋的表格就好了</h1>-->\n  <div class=\"AddDevice\">\n        <el-row type=\"flex\" justify=\"center\" class=\"registerContent\">\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"16\" :lg=\"12\" :xl=\"8\">\n            <el-card class=\"bgc\">\n            <el-form label-position=\"left\"  ref=\"addDev\"  :model=\"devForm\" :rules=\"devEuiRule\">\n              <el-form-item label=\"设备名\" prop=\"deviceName\" >\n                <el-input placeholder=\"请输入设备名称\" v-model=\"devForm.deviceName\">\n                </el-input>\n              </el-form-item>\n              <el-form-item label=\"设备EUI\" prop=\"deviceEui\">\n                <el-input  placeholder=\"请输入设备16位的EUI\" v-model=\"devForm.deviceEui\" >\n                </el-input>\n              </el-form-item>\n              <el-form-item label=\"设备地址\">\n               <el-input placeholder=\"请输入设备地址\" v-model=\"devAddress\">\n               </el-input>\n              </el-form-item>\n              <el-row style=\"width: 35%\">\n                <el-form-item label=\"经度\" >\n                  <el-input  v-model=\"devLongitude\" >\n                  </el-input>\n                </el-form-item>\n                <el-form-item label=\"维度\" >\n                  <el-input v-model=\"devDimensionality\">\n                  </el-input>\n                </el-form-item>\n              </el-row>\n              <el-form-item>\n                <el-button v-on:click=\"confirmvalue\" class=\"el-icon-location \">\n                  获取位置\n                </el-button>\n                <el-button type=\"primary\" v-on:click=\"addDevice\">确认添加</el-button>\n              </el-form-item>\n            </el-form>\n            </el-card>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"16\" :lg=\"12\" :xl=\"8\">\n            <el-card class=\"bgc\">\n            <div id=\"allmap1\" style=\"height: 520px\" >\n            </div>\n            </el-card>\n          </el-col>\n        </el-row>\n  </div>\n</template>\n\n<script>\n    import ElRow from \"element-ui/packages/row/src/row\";\n    import ElCard from \"element-ui/packages/card/src/main\";\n    import request from  '@/utils/request'\n    var lat=\"138\",lng=\"198\",address=\"南京\";\n    export default {\n      components: {\n        ElCard,\n        ElRow},\n      name: \"AddDevice\",\n      data(){\n        return{\n          deviceName:\"\",\n          deviceEui:\"\",\n          devDimensionality:lat,\n          devLongitude:lng,\n          devAddress:\"\",\n          responseinfo:\"null\",\n          responseresult:false,\n          devEuiRule:{\n            deviceName:[ { required: true, message: '请输入名称', trigger: 'blur' }],\n          deviceEui:[ { required: true, message: '请输入devEui', trigger: 'blur' },\n                       { min: 16, max: 16, message: '长度只能是16', trigger: 'blur' }]\n          },\n          devForm:{\n            deviceName:'',\n            deviceEui:'',\n          }\n        }\n      },\n      mounted(){\n\n      this.getInitmap();\n      },\n      methods:{\n        addDevice:function () {\n          request({\n            method:'post',\n            url:'/user/adddevice',\n            params:\n              {\n                devEUI:this.devForm.deviceEui,\n                devname:this.devForm.deviceName,\n                latitude:this.devDimensionality,\n                longitude:this.devLongitude,\n                address:this.devAddress,\n\n\n              },\n\n          }).then(response => /*console.log(result.data.info)*/\n          {\n            this.responseinfo = response.data.info;\n            this.responseresult = response.data.result ;\n            //console.log(this.responseinfo,this.responseresult)\n            /*--------------------成功后的操作-------------------------*/\n            if(this.responseresult == true){\n              this.$message({\n                message:this.responseinfo,\n                type:\"success\"\n              });\n\n            }\n            else {\n              this.$message.error(this.responseinfo);\n            }\n          })\n\n        },\n        getInitmap:function () {\n          var map = new BMap.Map('allmap1')\n          var point = new BMap.Point(118.903787,31.91416)\n          var geoc = new BMap.Geocoder();\n          map.centerAndZoom(point, 12);\n          var marker = new BMap.Marker(point);        // 创建标注\n          map.addOverlay(marker);\n          map.enableScrollWheelZoom();   //启用滚轮放大缩小，默认禁用\n          map.enableContinuousZoom();\n          map.addEventListener(\"click\",function(e){\n            //console.log(e.point.lng + \",\" + e.point.address);\n\n            lng=e.point.lng;\n            lat=e.point.lat;\n            map.removeOverlay(marker);\n            marker = new BMap.Marker(e.point);        // 创建标注\n            map.addOverlay(marker);\n          // console.log(lat)\n            geoc.getLocation(e.point, function(rs){\n              var addComp = rs.addressComponents;\n              address=addComp.province  + addComp.city + addComp.district + addComp.street +  addComp.streetNumber\n             // console.log(address)\n             //alert(addComp.province  + addComp.city + addComp.district + addComp.street +  addComp.streetNumber);\n            });\n          });\n        },\n        confirmvalue:function () {\n          this.devLongitude=lng\n          this.devDimensionality=lat\n          this.devAddress=address\n\n        }\n      }\n    }\n</script>\n\n<style scoped>\n.bgc{\n  margin: 40px;\n}\n  .AddDevice{\n/*    background-color:rgb(234, 239, 242);*/\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/deviceManage/AddDevice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AddDevice\"},[_c('el-row',{staticClass:\"registerContent\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":16,\"lg\":12,\"xl\":8}},[_c('el-card',{staticClass:\"bgc\"},[_c('el-form',{ref:\"addDev\",attrs:{\"label-position\":\"left\",\"model\":_vm.devForm,\"rules\":_vm.devEuiRule}},[_c('el-form-item',{attrs:{\"label\":\"设备名\",\"prop\":\"deviceName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.devForm.deviceName),callback:function ($$v) {_vm.$set(_vm.devForm, \"deviceName\", $$v)},expression:\"devForm.deviceName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备EUI\",\"prop\":\"deviceEui\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入设备16位的EUI\"},model:{value:(_vm.devForm.deviceEui),callback:function ($$v) {_vm.$set(_vm.devForm, \"deviceEui\", $$v)},expression:\"devForm.deviceEui\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入设备地址\"},model:{value:(_vm.devAddress),callback:function ($$v) {_vm.devAddress=$$v},expression:\"devAddress\"}})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"width\":\"35%\"}},[_c('el-form-item',{attrs:{\"label\":\"经度\"}},[_c('el-input',{model:{value:(_vm.devLongitude),callback:function ($$v) {_vm.devLongitude=$$v},expression:\"devLongitude\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"维度\"}},[_c('el-input',{model:{value:(_vm.devDimensionality),callback:function ($$v) {_vm.devDimensionality=$$v},expression:\"devDimensionality\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"el-icon-location \",on:{\"click\":_vm.confirmvalue}},[_vm._v(\"\\n                获取位置\\n              \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addDevice}},[_vm._v(\"确认添加\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":16,\"lg\":12,\"xl\":8}},[_c('el-card',{staticClass:\"bgc\"},[_c('div',{staticStyle:{\"height\":\"520px\"},attrs:{\"id\":\"allmap1\"}})])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60189e72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/deviceManage/AddDevice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60189e72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddDevice.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddDevice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddDevice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60189e72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddDevice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60189e72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/deviceManage/AddDevice.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}